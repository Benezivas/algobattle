
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Algobattle framework, an interactive, easy to use computer science lab course">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../problem/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Battle - Algobattle</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7Cmonospace:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"monospace"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/termynal.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#battle" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Algobattle" class="md-header__button md-logo" aria-label="Algobattle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Algobattle
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Battle
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Benezivas/algobattle" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    benezivas/algobattle
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorial/" class="md-tabs__link">
          
  
    
  
  Tutorial

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advanced/" class="md-tabs__link">
          
  
    
  
  Advanced Topics

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../instructor/" class="md-tabs__link">
          
  
    
  
  Instructor's Corner

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Algobattle" class="md-nav__button md-logo" aria-label="Algobattle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Algobattle
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Benezivas/algobattle" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    benezivas/algobattle
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Algobattle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/programs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing programs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/match/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running a match
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conclusion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../advanced/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Advanced Topics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/battle_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Battle Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../instructor/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Instructor's Corner
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Instructor's Corner
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/teaching_english/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Course Teaching Concept
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Creating Problems
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Creating Problems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/problem/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/problem/problem_file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a Problem File
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/problem/example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A Complex Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/problem/advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/problem/annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Type Annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instructor/problem/io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arbitrary I/O Formats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Battle
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Battle
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#algobattle.battle.Battle" class="md-nav__link">
    <span class="md-ellipsis">
      Battle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Battle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.UiData" class="md-nav__link">
    <span class="md-ellipsis">
      UiData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.score" class="md-nav__link">
    <span class="md-ellipsis">
      score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.format_score" class="md-nav__link">
    <span class="md-ellipsis">
      format_score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.run_battle" class="md-nav__link">
    <span class="md-ellipsis">
      run_battle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#algobattle.battle.FightHandler" class="md-nav__link">
    <span class="md-ellipsis">
      FightHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FightHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.FightHandler.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#algobattle.battle.Fight" class="md-nav__link">
    <span class="md-ellipsis">
      Fight
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fight">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.score" class="md-nav__link">
    <span class="md-ellipsis">
      score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.max_size" class="md-nav__link">
    <span class="md-ellipsis">
      max_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.generator" class="md-nav__link">
    <span class="md-ellipsis">
      generator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.solver" class="md-nav__link">
    <span class="md-ellipsis">
      solver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.from_results" class="md-nav__link">
    <span class="md-ellipsis">
      from_results
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../problem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../util/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utility
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#algobattle.battle.Battle" class="md-nav__link">
    <span class="md-ellipsis">
      Battle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Battle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.UiData" class="md-nav__link">
    <span class="md-ellipsis">
      UiData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.score" class="md-nav__link">
    <span class="md-ellipsis">
      score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.format_score" class="md-nav__link">
    <span class="md-ellipsis">
      format_score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Battle.run_battle" class="md-nav__link">
    <span class="md-ellipsis">
      run_battle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#algobattle.battle.FightHandler" class="md-nav__link">
    <span class="md-ellipsis">
      FightHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FightHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.FightHandler.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#algobattle.battle.Fight" class="md-nav__link">
    <span class="md-ellipsis">
      Fight
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fight">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.score" class="md-nav__link">
    <span class="md-ellipsis">
      score
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.max_size" class="md-nav__link">
    <span class="md-ellipsis">
      max_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.generator" class="md-nav__link">
    <span class="md-ellipsis">
      generator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.solver" class="md-nav__link">
    <span class="md-ellipsis">
      solver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algobattle.battle.Fight.from_results" class="md-nav__link">
    <span class="md-ellipsis">
      from_results
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="battle">Battle<a class="headerlink" href="#battle" title="Permanent link">&para;</a></h1>
<p>This module defines the <code>Battle</code> class and thus what each battle type can do to customize how it runs and
scores the programs. If you are implementing your own custom battle types, make sure they adhere to the api
specifications laid out here.</p>


<div class="doc doc-object doc-class">



<h2 id="algobattle.battle.Battle" class="doc doc-heading">
          <code>algobattle.battle.Battle</code>


<a href="#algobattle.battle.Battle" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="algobattle.util.BaseModel" href="../util/#algobattle.util.BaseModel">BaseModel</a></code></p>

  
      <p>Base for classes that execute a specific kind of battle.</p>
<p>Each battle type determines what parameters each fight will be fought with, how many fights are fought, and how
they will ultimately be scored.</p>

            <details class="quote">
              <summary>Source code in <code>algobattle/battle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Battle</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base for classes that execute a specific kind of battle.</span>

<span class="sd">    Each battle type determines what parameters each fight will be fought with, how many fights are fought, and how</span>
<span class="sd">    they will ultimately be scored.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fights</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Fight</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The list of fights that have been fought in this battle.&quot;&quot;&quot;</span>
    <span class="n">runtime_error</span><span class="p">:</span> <span class="n">ExceptionInfo</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The description of an otherwise unhandeled exception that occured during the execution of :meth:`Battle.run`.&quot;&quot;&quot;</span>

    <span class="n">_battle_types</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">Self</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dictionary mapping the names of all registered battle types to their python classes.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Config object for each specific battle type.</span>

<span class="sd">        A custom battle type can override this class to specify config options it uses. They will be parsed from a</span>
<span class="sd">        dictionary located at `battle` in the main config file. The created object will then be passed to the</span>
<span class="sd">        :meth:`Battle.run` method with its fields set accordingly.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">type</span><span class="p">:</span> <span class="n">Any</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Type of battle that will be used.&quot;&quot;&quot;</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">__get_pydantic_core_schema__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">GetCoreSchemaHandler</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CoreSchema</span><span class="p">:</span>
            <span class="c1"># there&#39;s two bugs we need to catch:</span>
            <span class="c1"># 1. this function is called during the pydantic BaseModel metaclass&#39;s __new__, so the BattleConfig class</span>
            <span class="c1"># won&#39;t be ready at that point and be missing in the namespace</span>
            <span class="c1"># 2. pydantic uses the core schema to build child classes core schema. for them we want to behave like a</span>
            <span class="c1"># normal model, only our own schema gets modified</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">cls</span> <span class="o">!=</span> <span class="n">Battle</span><span class="o">.</span><span class="n">Config</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">handler</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">handler</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

            <span class="k">match</span> <span class="nb">len</span><span class="p">(</span><span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span><span class="p">):</span>
                <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">subclass_schema</span> <span class="o">=</span> <span class="n">handler</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
                <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">subclass_schema</span> <span class="o">=</span> <span class="n">handler</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
                <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
                    <span class="n">subclass_schema</span> <span class="o">=</span> <span class="n">tagged_union_schema</span><span class="p">(</span>
                        <span class="n">choices</span><span class="o">=</span><span class="p">{</span>
                            <span class="n">battle</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">default</span><span class="p">:</span> <span class="n">battle</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span>
                            <span class="k">for</span> <span class="n">battle</span> <span class="ow">in</span> <span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                        <span class="p">},</span>
                        <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span>
                    <span class="p">)</span>

            <span class="c1"># we want to validate into the actual battle type&#39;s config, so we need to treat them as a tagged union</span>
            <span class="c1"># but if we&#39;re initializing a project the type might not be installed yet, so we want to also parse</span>
            <span class="c1"># into an unspecified dummy object. This wrap validator will efficiently and transparently act as a tagged</span>
            <span class="c1"># union when ignore_uninstalled is not set. If it is set it catches only the error of a missing tag, other</span>
            <span class="c1"># errors are passed through</span>
            <span class="k">def</span> <span class="nf">check_installed</span><span class="p">(</span><span class="n">val</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="n">ValidationInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">handler</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">union_err</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">err</span><span class="p">:</span> <span class="n">err</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;union_tag_invalid&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">errors</span><span class="p">()),</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">union_err</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">raise</span>
                    <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">info</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_uninstalled&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">settings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s2">&quot;strict&quot;</span><span class="p">:</span> <span class="n">info</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;strict&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                <span class="s2">&quot;from_attributes&quot;</span><span class="p">:</span> <span class="n">info</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;from_attributes&quot;</span><span class="p">),</span>
                            <span class="p">}</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="k">return</span> <span class="n">Battle</span><span class="o">.</span><span class="n">FallbackConfig</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">info</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">passed</span> <span class="o">=</span> <span class="n">union_err</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
                        <span class="n">installed</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;The specified battle type &#39;</span><span class="si">{</span><span class="n">passed</span><span class="si">}</span><span class="s2">&#39; is not installed. Installed types are: </span><span class="si">{</span><span class="n">installed</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="p">)</span>

            <span class="k">return</span> <span class="n">with_info_wrap_validator_function</span><span class="p">(</span><span class="n">check_installed</span><span class="p">,</span> <span class="n">subclass_schema</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">FallbackConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fallback config object to parse into if the proper battle typ isn&#39;t installed and we&#39;re ignoring installs.&quot;&quot;&quot;</span>

        <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>

        <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;allow&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
            <span class="c1"># to hint that we&#39;re gonna fill this with arbitrary data belonging to some supposed battle type</span>
            <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__attr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
                <span class="o">...</span>

    <span class="k">class</span> <span class="nc">UiData</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Object containing custom diplay data.</span>

<span class="sd">        The display data object will be displayed as key-value pairs generated from the :meth:`.field` method.</span>
<span class="sd">        You can use the normally available pydantic config options to customize what these will look like.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">all</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;Battle&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a dictionary mapping the names of all registered battle types to their python classes.</span>

<span class="sd">        It includes all subclasses of :class:`Battle` that have been initialized so far, including ones exposed to the</span>
<span class="sd">        algobattle module via the `algobattle.battle` entrypoint hook.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">load_entrypoints</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads all battle types presented via entrypoints.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">entrypoint</span> <span class="ow">in</span> <span class="n">entry_points</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="s2">&quot;algobattle.battle&quot;</span><span class="p">):</span>
            <span class="n">battle</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">isclass</span><span class="p">(</span><span class="n">battle</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">battle</span><span class="p">,</span> <span class="n">Battle</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Entrypoint </span><span class="si">{</span><span class="n">entrypoint</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> targets something other than a Battle type&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__pydantic_init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span><span class="p">:</span>
            <span class="n">Battle</span><span class="o">.</span><span class="n">_battle_types</span><span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">name</span><span class="p">()]</span> <span class="o">=</span> <span class="bp">cls</span>
            <span class="n">Battle</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">model_rebuild</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__pydantic_init_subclass__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">score</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">_BattleConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the score the solver has achieved during this battle.</span>

<span class="sd">        Should always be a nonnegative float, with higher values indicating a better performance of the solver.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">format_score</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Formats a given score nicely.</span>

<span class="sd">        Purely auxialiary method that can be used to customize how a score will be rendered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">score</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of this battle type.</span>

<span class="sd">        Defaults to the battle class&#39;s name. Can be used to customize this behaviour if e.g. a battle type should have a</span>
<span class="sd">        name that is not a valid python identifier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">run_battle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fight</span><span class="p">:</span> <span class="n">FightHandler</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">_BattleConfig</span><span class="p">,</span> <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ui</span><span class="p">:</span> <span class="n">BattleUi</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes one battle.</span>

<span class="sd">        Args:</span>
<span class="sd">            fight: The :class:`FightHandler` used to run each fight of this battle. It already contains information</span>
<span class="sd">                about the participating teams, default config settings, etc. Each fight can be executed using the</span>
<span class="sd">                :meth:`FightHandler.run` method.</span>
<span class="sd">            config: An instance of this battle type&#39;s :class:`BattleConfig` class, parsed from the corresponding section</span>
<span class="sd">                of the config file.</span>
<span class="sd">            min_size: The minimum size valid for this problem.</span>
<span class="sd">            ui: An interface to interact with the ui.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="algobattle.battle.Battle.UiData" class="doc doc-heading">
          <code>UiData</code>


<a href="#algobattle.battle.Battle.UiData" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="algobattle.util.BaseModel" href="../util/#algobattle.util.BaseModel">BaseModel</a></code></p>

  
      <p>Object containing custom diplay data.</p>
<p>The display data object will be displayed as key-value pairs generated from the :meth:<code>.field</code> method.
You can use the normally available pydantic config options to customize what these will look like.</p>

            <details class="quote">
              <summary>Source code in <code>algobattle/battle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UiData</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Object containing custom diplay data.</span>

<span class="sd">    The display data object will be displayed as key-value pairs generated from the :meth:`.field` method.</span>
<span class="sd">    You can use the normally available pydantic config options to customize what these will look like.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>



<div class="doc doc-object doc-function">



<h3 id="algobattle.battle.Battle.score" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">score</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#algobattle.battle.Battle.score" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Calculates the score the solver has achieved during this battle.</p>
<p>Should always be a nonnegative float, with higher values indicating a better performance of the solver.</p>

          <details class="quote">
            <summary>Source code in <code>algobattle/battle.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">score</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">_BattleConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates the score the solver has achieved during this battle.</span>

<span class="sd">    Should always be a nonnegative float, with higher values indicating a better performance of the solver.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="algobattle.battle.Battle.format_score" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">format_score</span><span class="p">(</span><span class="n">score</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#algobattle.battle.Battle.format_score" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Formats a given score nicely.</p>
<p>Purely auxialiary method that can be used to customize how a score will be rendered.</p>

          <details class="quote">
            <summary>Source code in <code>algobattle/battle.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">format_score</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Formats a given score nicely.</span>

<span class="sd">    Purely auxialiary method that can be used to customize how a score will be rendered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">score</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="algobattle.battle.Battle.name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">name</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#algobattle.battle.Battle.name" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Name of this battle type.</p>
<p>Defaults to the battle class's name. Can be used to customize this behaviour if e.g. a battle type should have a
name that is not a valid python identifier.</p>

          <details class="quote">
            <summary>Source code in <code>algobattle/battle.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of this battle type.</span>

<span class="sd">    Defaults to the battle class&#39;s name. Can be used to customize this behaviour if e.g. a battle type should have a</span>
<span class="sd">    name that is not a valid python identifier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="algobattle.battle.Battle.run_battle" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">run_battle</span><span class="p">(</span><span class="n">fight</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">min_size</span><span class="p">,</span> <span class="n">ui</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#algobattle.battle.Battle.run_battle" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Executes one battle.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fight</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="algobattle.battle.FightHandler" href="#algobattle.battle.FightHandler">FightHandler</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The :class:<code>FightHandler</code> used to run each fight of this battle. It already contains information
about the participating teams, default config settings, etc. Each fight can be executed using the
:meth:<code>FightHandler.run</code> method.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><span title="algobattle.battle._BattleConfig">_BattleConfig</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An instance of this battle type's :class:<code>BattleConfig</code> class, parsed from the corresponding section
of the config file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>min_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The minimum size valid for this problem.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ui</code></td>
          <td>
                <code><span title="algobattle.battle.BattleUi">BattleUi</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An interface to interact with the ui.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>algobattle/battle.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">run_battle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fight</span><span class="p">:</span> <span class="n">FightHandler</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">_BattleConfig</span><span class="p">,</span> <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ui</span><span class="p">:</span> <span class="n">BattleUi</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes one battle.</span>

<span class="sd">    Args:</span>
<span class="sd">        fight: The :class:`FightHandler` used to run each fight of this battle. It already contains information</span>
<span class="sd">            about the participating teams, default config settings, etc. Each fight can be executed using the</span>
<span class="sd">            :meth:`FightHandler.run` method.</span>
<span class="sd">        config: An instance of this battle type&#39;s :class:`BattleConfig` class, parsed from the corresponding section</span>
<span class="sd">            of the config file.</span>
<span class="sd">        min_size: The minimum size valid for this problem.</span>
<span class="sd">        ui: An interface to interact with the ui.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="algobattle.battle.FightHandler" class="doc doc-heading">
          <code>algobattle.battle.FightHandler</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#algobattle.battle.FightHandler" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents first">

  
      <p>Helper class to run fights of a given battle.</p>

            <details class="quote">
              <summary>Source code in <code>algobattle/battle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FightHandler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper class to run fights of a given battle.&quot;&quot;&quot;</span>

    <span class="n">problem</span><span class="p">:</span> <span class="n">Problem</span>
    <span class="n">generator</span><span class="p">:</span> <span class="n">Generator</span>
    <span class="n">solver</span><span class="p">:</span> <span class="n">Solver</span>
    <span class="n">battle</span><span class="p">:</span> <span class="s2">&quot;Battle&quot;</span>
    <span class="n">ui</span><span class="p">:</span> <span class="n">FightUi</span>
    <span class="n">set_cpus</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">log_config</span><span class="p">:</span> <span class="n">ProgramLogConfigView</span>

    <span class="nd">@overload</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">with_results</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RunKwargs</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Fight</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">with_results</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">True</span><span class="p">],</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RunKwargs</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Fight</span><span class="p">,</span> <span class="n">GeneratorResult</span><span class="p">,</span> <span class="n">SolverResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">with_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RunKwargs</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Fight</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Fight</span><span class="p">,</span> <span class="n">GeneratorResult</span><span class="p">,</span> <span class="n">SolverResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute a single fight of a battle.</span>

<span class="sd">        First the generator will be run and its output parsed. Then the solver will be given the created instance</span>
<span class="sd">        and run. Its output gets parsed into a solution, which will then be scored.</span>
<span class="sd">        The timeout, space, and cpu arguments each override the corresponding match config options if set. Leaving them</span>
<span class="sd">        unset results in the config options being used.</span>

<span class="sd">        Args:</span>
<span class="sd">            max_size: The maximum instance size the generator is allowed to create.</span>
<span class="sd">            timeout_generator: Timeout in seconds for the generator to finish running. `None` means it is given an</span>
<span class="sd">                unlimited amount of time.</span>
<span class="sd">            space_generator: Memory space in MB the generator has access to. `None` means it is given an unlimited</span>
<span class="sd">                amount of space.</span>
<span class="sd">            cpus_generator: Number of physical cpu cores the generator can use.</span>
<span class="sd">            timeout_solver: Timeout in seconds for the solver to finish running. `None` means it is given an unlimited</span>
<span class="sd">                amount of time.</span>
<span class="sd">            space_solver: Memory space in MB the solver has access to. `None` means it is given</span>
<span class="sd">                an unlimited amount of space.</span>
<span class="sd">            cpus_solver: Number of physical cpu cores the solver can use.</span>
<span class="sd">            generator_battle_input: Additional data the generator will be provided with.</span>
<span class="sd">            solver_battle_input: Additional data the solver will be provided with.</span>
<span class="sd">            generator_battle_output: Class used to parse additional data the generator outputs into a python object.</span>
<span class="sd">            solver_battle_output: Class used to parse additional data the solver outputs into a python object.</span>
<span class="sd">            with_results: Whether to return the raw result objects.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The resulting info about the executed fight, and the results if the flag has been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_raw</span><span class="p">(</span><span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">solution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">score</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">sol_result</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">sol_result</span><span class="o">.</span><span class="n">solution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">score</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_score</span><span class="p">(</span><span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span><span class="p">)</span>
        <span class="n">fight</span> <span class="o">=</span> <span class="n">Fight</span><span class="o">.</span><span class="n">from_results</span><span class="p">(</span>
            <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span>
            <span class="n">generator</span><span class="o">=</span><span class="n">gen_result</span><span class="p">,</span>
            <span class="n">solver</span><span class="o">=</span><span class="n">sol_result</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_config</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">battle</span><span class="o">.</span><span class="n">fights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fight</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">end_fight</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">with_results</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fight</span><span class="p">,</span> <span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fight</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run_raw</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">timeout_generator</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">EllipsisType</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">space_generator</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">EllipsisType</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">cpus_generator</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">EllipsisType</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">timeout_solver</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">EllipsisType</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">space_solver</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">EllipsisType</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">cpus_solver</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">EllipsisType</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">generator_battle_input</span><span class="p">:</span> <span class="n">Encodable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">solver_battle_input</span><span class="p">:</span> <span class="n">Encodable</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">generator_battle_output</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Encodable</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">solver_battle_output</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Encodable</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">GeneratorResult</span><span class="p">,</span> <span class="n">SolverResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs a fight and returns the unprocessed results.&quot;&quot;&quot;</span>
        <span class="n">min_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">problem</span><span class="o">.</span><span class="n">min_size</span>
        <span class="k">if</span> <span class="n">max_size</span> <span class="o">&lt;</span> <span class="n">min_size</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot run battle at size </span><span class="si">{</span><span class="n">max_size</span><span class="si">}</span><span class="s2"> since it is smaller than the smallest &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;size the problem allows (</span><span class="si">{</span><span class="n">min_size</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>
        <span class="n">ui</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span>
        <span class="n">ui</span><span class="o">.</span><span class="n">start_fight</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span>
        <span class="n">gen_result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">generator</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout_generator</span><span class="p">,</span>
            <span class="n">space</span><span class="o">=</span><span class="n">space_generator</span><span class="p">,</span>
            <span class="n">cpus</span><span class="o">=</span><span class="n">cpus_generator</span><span class="p">,</span>
            <span class="n">battle_input</span><span class="o">=</span><span class="n">generator_battle_input</span><span class="p">,</span>
            <span class="n">battle_output</span><span class="o">=</span><span class="n">generator_battle_output</span><span class="p">,</span>
            <span class="n">set_cpus</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_cpus</span><span class="p">,</span>
            <span class="n">ui</span><span class="o">=</span><span class="n">ui</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">gen_result</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">sol_result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout_solver</span><span class="p">,</span>
            <span class="n">space</span><span class="o">=</span><span class="n">space_solver</span><span class="p">,</span>
            <span class="n">cpus</span><span class="o">=</span><span class="n">cpus_solver</span><span class="p">,</span>
            <span class="n">battle_input</span><span class="o">=</span><span class="n">solver_battle_input</span><span class="p">,</span>
            <span class="n">battle_output</span><span class="o">=</span><span class="n">solver_battle_output</span><span class="p">,</span>
            <span class="n">set_cpus</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_cpus</span><span class="p">,</span>
            <span class="n">ui</span><span class="o">=</span><span class="n">ui</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span>

    <span class="k">def</span> <span class="nf">calculate_score</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gen_result</span><span class="p">:</span> <span class="n">GeneratorResult</span><span class="p">,</span> <span class="n">sol_result</span><span class="p">:</span> <span class="n">SolverResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the score achieved by the solver in this fight.</span>

<span class="sd">        Both results need to contain all instance and/or solution data required.</span>

<span class="sd">        Args:</span>
<span class="sd">            gen_result: The generator&#39;s result.</span>
<span class="sd">            sol_result: The solver&#39;s result</span>

<span class="sd">        Returns:</span>
<span class="sd">            A number in [0, 1] with higher numbers meaning the solver performed better.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sol_result</span><span class="o">.</span><span class="n">solution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">problem</span><span class="o">.</span><span class="n">with_solution</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">solution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">score</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">problem</span><span class="o">.</span><span class="n">score</span><span class="p">(</span>
                <span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="n">solver_solution</span><span class="o">=</span><span class="n">sol_result</span><span class="o">.</span><span class="n">solution</span><span class="p">,</span> <span class="n">generator_solution</span><span class="o">=</span><span class="n">gen_result</span><span class="o">.</span><span class="n">solution</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">score</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">problem</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="n">solution</span><span class="o">=</span><span class="n">sol_result</span><span class="o">.</span><span class="n">solution</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">score</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="algobattle.battle.FightHandler.run" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">max_size</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">with_results</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#algobattle.battle.FightHandler.run" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Execute a single fight of a battle.</p>
<p>First the generator will be run and its output parsed. Then the solver will be given the created instance
and run. Its output gets parsed into a solution, which will then be scored.
The timeout, space, and cpu arguments each override the corresponding match config options if set. Leaving them
unset results in the config options being used.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>max_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The maximum instance size the generator is allowed to create.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeout_generator</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Timeout in seconds for the generator to finish running. <code>None</code> means it is given an
unlimited amount of time.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>space_generator</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Memory space in MB the generator has access to. <code>None</code> means it is given an unlimited
amount of space.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>cpus_generator</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of physical cpu cores the generator can use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeout_solver</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Timeout in seconds for the solver to finish running. <code>None</code> means it is given an unlimited
amount of time.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>space_solver</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Memory space in MB the solver has access to. <code>None</code> means it is given
an unlimited amount of space.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>cpus_solver</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of physical cpu cores the solver can use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>generator_battle_input</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional data the generator will be provided with.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>solver_battle_input</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional data the solver will be provided with.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>generator_battle_output</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Class used to parse additional data the generator outputs into a python object.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>solver_battle_output</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Class used to parse additional data the solver outputs into a python object.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>with_results</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to return the raw result objects.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="algobattle.battle.Fight" href="#algobattle.battle.Fight">Fight</a> | tuple[<a class="autorefs autorefs-internal" title="algobattle.battle.Fight" href="#algobattle.battle.Fight">Fight</a>, <span title="algobattle.program.GeneratorResult">GeneratorResult</span>, <span title="algobattle.program.SolverResult">SolverResult</span> | None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The resulting info about the executed fight, and the results if the flag has been set.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>algobattle/battle.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">with_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RunKwargs</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Fight</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Fight</span><span class="p">,</span> <span class="n">GeneratorResult</span><span class="p">,</span> <span class="n">SolverResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute a single fight of a battle.</span>

<span class="sd">    First the generator will be run and its output parsed. Then the solver will be given the created instance</span>
<span class="sd">    and run. Its output gets parsed into a solution, which will then be scored.</span>
<span class="sd">    The timeout, space, and cpu arguments each override the corresponding match config options if set. Leaving them</span>
<span class="sd">    unset results in the config options being used.</span>

<span class="sd">    Args:</span>
<span class="sd">        max_size: The maximum instance size the generator is allowed to create.</span>
<span class="sd">        timeout_generator: Timeout in seconds for the generator to finish running. `None` means it is given an</span>
<span class="sd">            unlimited amount of time.</span>
<span class="sd">        space_generator: Memory space in MB the generator has access to. `None` means it is given an unlimited</span>
<span class="sd">            amount of space.</span>
<span class="sd">        cpus_generator: Number of physical cpu cores the generator can use.</span>
<span class="sd">        timeout_solver: Timeout in seconds for the solver to finish running. `None` means it is given an unlimited</span>
<span class="sd">            amount of time.</span>
<span class="sd">        space_solver: Memory space in MB the solver has access to. `None` means it is given</span>
<span class="sd">            an unlimited amount of space.</span>
<span class="sd">        cpus_solver: Number of physical cpu cores the solver can use.</span>
<span class="sd">        generator_battle_input: Additional data the generator will be provided with.</span>
<span class="sd">        solver_battle_input: Additional data the solver will be provided with.</span>
<span class="sd">        generator_battle_output: Class used to parse additional data the generator outputs into a python object.</span>
<span class="sd">        solver_battle_output: Class used to parse additional data the solver outputs into a python object.</span>
<span class="sd">        with_results: Whether to return the raw result objects.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting info about the executed fight, and the results if the flag has been set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_raw</span><span class="p">(</span><span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">gen_result</span><span class="o">.</span><span class="n">solution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">sol_result</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">sol_result</span><span class="o">.</span><span class="n">solution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_score</span><span class="p">(</span><span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span><span class="p">)</span>
    <span class="n">fight</span> <span class="o">=</span> <span class="n">Fight</span><span class="o">.</span><span class="n">from_results</span><span class="p">(</span>
        <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span>
        <span class="n">generator</span><span class="o">=</span><span class="n">gen_result</span><span class="p">,</span>
        <span class="n">solver</span><span class="o">=</span><span class="n">sol_result</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_config</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">battle</span><span class="o">.</span><span class="n">fights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fight</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">end_fight</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">with_results</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fight</span><span class="p">,</span> <span class="n">gen_result</span><span class="p">,</span> <span class="n">sol_result</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fight</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="algobattle.battle.Fight" class="doc doc-heading">
          <code>algobattle.battle.Fight</code>


<a href="#algobattle.battle.Fight" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="algobattle.util.BaseModel" href="../util/#algobattle.util.BaseModel">BaseModel</a></code></p>

  
      <p>The result of one fight between the participating teams.</p>
<p>For a more detailed description of what each fight looks like, see :meth:<code>FightHandler.run</code>.</p>

            <details class="quote">
              <summary>Source code in <code>algobattle/battle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Fight</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The result of one fight between the participating teams.</span>

<span class="sd">    For a more detailed description of what each fight looks like, see :meth:`FightHandler.run`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The solving Team&#39;s score.</span>

<span class="sd">    Always a number in [0, 1]. 0 indicates a total failure of the solver, 1 that it succeeded perfectly.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The maximum size of an instance the generator was allowed to create.&quot;&quot;&quot;</span>
    <span class="n">generator</span><span class="p">:</span> <span class="n">ProgramRunInfo</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data about the generator&#39;s execution.&quot;&quot;&quot;</span>
    <span class="n">solver</span><span class="p">:</span> <span class="n">ProgramRunInfo</span> <span class="o">|</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data about the solver&#39;s execution.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_results</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">score</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">generator</span><span class="p">:</span> <span class="n">GeneratorResult</span><span class="p">,</span>
        <span class="n">solver</span><span class="p">:</span> <span class="n">SolverResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ProgramLogConfigView</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Turns the involved result objects into a jsonable model.&quot;&quot;&quot;</span>
        <span class="n">inline_output</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">when</span> <span class="o">==</span> <span class="s2">&quot;always&quot;</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="n">config</span><span class="o">.</span><span class="n">when</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span>
            <span class="ow">and</span> <span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="n">solver</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">solver</span><span class="o">.</span><span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span>
            <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>
            <span class="n">generator</span><span class="o">=</span><span class="n">ProgramRunInfo</span><span class="o">.</span><span class="n">from_result</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="n">inline_output</span><span class="o">=</span><span class="n">inline_output</span><span class="p">),</span>
            <span class="n">solver</span><span class="o">=</span><span class="n">ProgramRunInfo</span><span class="o">.</span><span class="n">from_result</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">inline_output</span><span class="o">=</span><span class="n">inline_output</span><span class="p">)</span> <span class="k">if</span> <span class="n">solver</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="algobattle.battle.Fight.score" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">score</span><span class="p">:</span> <span class="nb">float</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#algobattle.battle.Fight.score" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>The solving Team's score.</p>
<p>Always a number in [0, 1]. 0 indicates a total failure of the solver, 1 that it succeeded perfectly.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="algobattle.battle.Fight.max_size" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#algobattle.battle.Fight.max_size" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>The maximum size of an instance the generator was allowed to create.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="algobattle.battle.Fight.generator" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generator</span><span class="p">:</span> <span class="n">ProgramRunInfo</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#algobattle.battle.Fight.generator" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Data about the generator's execution.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="algobattle.battle.Fight.solver" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">solver</span><span class="p">:</span> <span class="n">ProgramRunInfo</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#algobattle.battle.Fight.solver" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Data about the solver's execution.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h3 id="algobattle.battle.Fight.from_results" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_results</span><span class="p">(</span><span class="n">max_size</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">generator</span><span class="p">,</span> <span class="n">solver</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#algobattle.battle.Fight.from_results" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Turns the involved result objects into a jsonable model.</p>

          <details class="quote">
            <summary>Source code in <code>algobattle/battle.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_results</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">score</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">generator</span><span class="p">:</span> <span class="n">GeneratorResult</span><span class="p">,</span>
    <span class="n">solver</span><span class="p">:</span> <span class="n">SolverResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ProgramLogConfigView</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Turns the involved result objects into a jsonable model.&quot;&quot;&quot;</span>
    <span class="n">inline_output</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">when</span> <span class="o">==</span> <span class="s2">&quot;always&quot;</span> <span class="ow">or</span> <span class="p">(</span>
        <span class="n">config</span><span class="o">.</span><span class="n">when</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span>
        <span class="ow">and</span> <span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="n">solver</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">solver</span><span class="o">.</span><span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">max_size</span><span class="p">,</span>
        <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>
        <span class="n">generator</span><span class="o">=</span><span class="n">ProgramRunInfo</span><span class="o">.</span><span class="n">from_result</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="n">inline_output</span><span class="o">=</span><span class="n">inline_output</span><span class="p">),</span>
        <span class="n">solver</span><span class="o">=</span><span class="n">ProgramRunInfo</span><span class="o">.</span><span class="n">from_result</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">inline_output</span><span class="o">=</span><span class="n">inline_output</span><span class="p">)</span> <span class="k">if</span> <span class="n">solver</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../js/termynal.js"></script>
      
        <script src="../../js/custom.js"></script>
      
    
  </body>
</html>